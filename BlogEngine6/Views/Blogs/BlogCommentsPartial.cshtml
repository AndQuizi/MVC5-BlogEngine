
@model IEnumerable<BlogEngine6.Models.ViewModels.ViewBlogCommentViewModel>


<div class="blogCommentArea">
    <h3>Comments</h3>
    @{Html.RenderAction("BlogCommentsForm", "Blogs", new { id = @ViewBag.BlogID, count = ViewBag.Count });}
    <hr />    
    <div>

        @foreach (var item in Model)
        {
            <p>@Html.DisplayFor(modelItem => item.Author)</p>
            <p><i>@Html.DisplayFor(modelItem => item.PostDate)</i></p>
            <p>
                @Html.DisplayFor(modelItem => item.Message)
            </p>
            <hr />
        }

    </div>

    @if (Model.Count() > 0){
        <div class="loadMoreDiv">
            <button type="button" class="btn btn-danger" style="text-align: center;" onclick="$('.blogCommentArea').load('/Blogs/BlogComments?id=' + @ViewBag.BlogID +'&count='+( @ViewBag.Count+5))">Load More...</button>
        </div>
    }

</div>